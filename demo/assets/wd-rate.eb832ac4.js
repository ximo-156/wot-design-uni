import{g as e,i as a,h as t,m as s,c as l,b as r}from"./page-wraper.84820f31.js";import{d as o,r as n,v as i,q as d,h as u,j as c,o as m,c as p,w as y,e as g,F as b,f as h,x as f,a as v,u as w,n as _,i as z}from"./index-3f88d4b2.js";const C=r(o({name:"wd-rate",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...e,num:a(5),modelValue:{type:[String,Number,null],default:null},readonly:t(!1),size:s("16px"),space:s("4px"),color:s("#E8E8E8"),activeColor:{type:[String,Array],default:"linear-gradient(180deg, rgba(255,238,0,1) 0%,rgba(250,176,21,1) 100%)"},icon:s("star-on"),activeIcon:s("star-on"),disabled:t(!1),disabledColor:s("linear-gradient(315deg, rgba(177,177,177,1) 0%,rgba(199,199,199,1) 100%)")},emits:["update:modelValue","change"],setup(e,{emit:a}){const t=e,s=n([]),r=n(""),o=i((()=>`background:${t.color}; -webkit-background-clip: text; color: transparent`)),C=i((()=>`background:${t.disabled?t.disabledColor:r.value}; -webkit-background-clip: text; color: transparent`));function k(){const{activeColor:e,modelValue:a,num:s}=t;let l="";l=Array.isArray(e)&&e.length?Number(a)<=.6*s||!e[1]?e[0]:e[1]:e,r.value=l}return d((()=>t.activeColor),(e=>{Array.isArray(e)&&!e.length&&console.error("activeColor cannot be an empty array"),k()}),{immediate:!0,deep:!0}),d([()=>t.num,()=>t.modelValue],(()=>{!function(){const{modelValue:e,num:a}=t;if(null===e||!a)return;if("number"!=typeof e)return void console.error("[Wot Design] error(wd-rate): the value of wd-rate should be a number");const l=[],r=Math.ceil(e)-1;for(let t=0;t<a;t++)if(t<r)l.push("100%");else if(t===r){const a=e-r>.5?1:.5;l.push(100*a+"%")}else l.push("0");s.value=l,k()}()}),{immediate:!0,deep:!0}),(e,r)=>{const n=u(c("wd-icon"),l),i=z;return m(),p(i,{class:_(`wd-rate ${e.customClass}`),style:f(e.customStyle)},{default:y((()=>[(m(!0),g(b,null,h(s.value,((l,r)=>(m(),p(i,{key:r,"data-index":r,style:f({"margin-right":r==s.value.length-1?0:e.space}),class:"wd-rate__item",onClick:e=>function(e){t.readonly||t.disabled||(a("update:modelValue",e+1),a("change",{value:e+1}))}(r)},{default:y((()=>[v(i,{class:"wd-rate__item-star",style:f({width:e.size,height:e.size})},{default:y((()=>[v(n,{name:e.icon,size:e.size,"custom-style":w(o)},null,8,["name","size","custom-style"])])),_:1},8,["style"]),v(i,{class:"wd-rate__item-star wd-rate__item-star--active",style:f({width:l,height:e.size})},{default:y((()=>[v(n,{name:e.activeIcon,size:e.size,"custom-style":w(C)},null,8,["name","size","custom-style"])])),_:2},1032,["style"])])),_:2},1032,["data-index","style","onClick"])))),128))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-b9600e0d"]]);export{C as _};
