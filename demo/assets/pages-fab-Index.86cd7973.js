import{g as e,h as a,m as t,i as o,o as l,v as s,c as u,q as i,b as d,d as n,e as c,f as r,a as m}from"./page-wraper.84820f31.js";import{d as v,r as p,N as f,q as _,T as b,m as h,v as w,Q as g,Y as x,h as y,j as T,o as k,c as C,w as V,a as z,R as I,z as L,n as j,x as $,u as U,y as Q,G as q,i as F,e as O,b as Y,F as G}from"./index-3f88d4b2.js";import{_ as H,a as X}from"./wd-radio-group.c6403be1.js";import{_ as K}from"./demo-block.5375f9a7.js";import{_ as N}from"./wd-button.18931a7d.js";import{p as R,r as S,q as W,c as A,u as B}from"./clickoutside.0e947e90.js";import"./useChildren.2d80d6cf.js";const D=d(v({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...e,active:a(!1),type:t("primary"),position:t("right-bottom"),direction:t("top"),disabled:a(!1),inactiveIcon:t("add"),activeIcon:t("close"),zIndex:o(99),draggable:a(!1)},emits:["update:active"],setup(e,{expose:a,emit:t}){const o=e,d=p(!1),n=f(W,null),{proxy:c}=Q();_((()=>o.active),(e=>{d.value=e}),{immediate:!0,deep:!0}),_((()=>d.value),(e=>{e&&(n&&n.closeOther?n.closeOther(c):A(c))}));const r=p(o.direction);_((()=>o.direction),(e=>r.value=e)),_((()=>o.position),(()=>H()));const m=p(0),v=p(0),O=b({width:0,height:0}),Y=p(56),G=b({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function H(){const e=o.position,{minLeft:a,minTop:t,maxLeft:l,maxTop:s}=G;"left-top"===e?(m.value=t,v.value=a):"right-top"===e?(m.value=t,v.value=l):"left-bottom"===e?(m.value=s,v.value=a):"right-bottom"===e&&(m.value=s,v.value=l)}h((()=>{H()}));const X=b({x:0,y:0}),K=p(!1);function B(e){if(!1===o.draggable)return;const a=e.touches[0];X.x=a.clientX-v.value,X.y=a.clientY-m.value,K.value=!1}function D(e){if(!1===o.draggable)return;const a=e.touches[0],{minLeft:t,minTop:l,maxLeft:s,maxTop:u}=G;let i=a.clientX-X.x,d=a.clientY-X.y;i<t?i=t:i>s&&(i=s),d<l?d=l:d>u&&(d=u),m.value=d,v.value=i}function E(){if(!1===o.draggable)return;const e=O.width/2,a=v.value+Y.value/2;K.value=!0,a<e?(v.value=G.minLeft,r.value="right"):(v.value=G.maxLeft,r.value="left")}const J=w((()=>{const e={top:m.value+"px",left:v.value+"px",transition:K.value?"all ease 0.3s":"none"};return l(o.zIndex)&&(e["z-index"]=o.zIndex),`${s(e)};${o.customStyle}`}));function M(){o.disabled||(d.value=!d.value,t("update:active",d.value))}return g((()=>{!function(){const e=q();O.width=e.windowWidth,O.height=e.windowTop+e.windowHeight,G.minTop=e.windowTop+16,G.minLeft=16,G.maxLeft=O.width-Y.value-16,G.maxTop=O.height-Y.value-16}(),n&&n.pushToQueue?n.pushToQueue(c):R(c)})),x((()=>{n&&n.removeFromQueue?n.removeFromQueue(c):S(c)})),a({open:function(){d.value=!0,t("update:active",!0)},close:function(){d.value=!1,t("update:active",!1)}}),(e,a)=>{const t=y(T("wd-icon"),u),o=y(T("wd-button"),N),l=F,s=y(T("wd-transition"),i);return k(),C(l,{onTouchmove:I(D,["stop","prevent"]),onTouchstart:B,onTouchend:E,class:j(`wd-fab ${e.customClass}`),style:$(U(J)),onClick:a[1]||(a[1]=I((()=>{}),["stop"]))},{default:V((()=>[z(l,{onClick:a[0]||(a[0]=I((()=>{}),["stop"]))},{default:V((()=>[z(o,{onClick:M,"custom-class":"wd-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:V((()=>[z(t,{"custom-class":"wd-fab__icon",name:d.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"])])),_:1}),z(s,{"enter-class":`wd-fab__transition-enter--${r.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${r.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${r.value}`,show:d.value,duration:300,name:""},{default:V((()=>[L(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])])),_:3},8,["onTouchmove","class","style"])}}}),[["__scopeId","data-v-26f39e46"]]),E=d(v({__name:"Index",setup(e){const{show:a}=n(),t=p(!1),o=p("primary"),l=p("left-bottom"),s=p("top"),i=p(!1),d=p(!1),{closeOutside:v}=B();return(e,n)=>{const p=y(T("wd-toast"),c),f=y(T("wd-radio"),H),_=y(T("wd-radio-group"),X),b=y(T("demo-block"),K),h=y(T("wd-switch"),r),w=F,g=y(T("wd-button"),N),x=y(T("wd-icon"),u),C=y(T("wd-fab"),D),L=y(T("page-wraper"),m);return k(),O(G,null,[z(p),z(w,{class:"fab",onClick:U(v)},{default:V((()=>[z(L,null,{default:V((()=>[z(b,{title:"悬浮按钮主题色"},{default:V((()=>[z(_,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),inline:"",shape:"dot"},{default:V((()=>[z(f,{value:"primary","custom-class":"custom-radio"},{default:V((()=>[Y("主要按钮")])),_:1}),z(f,{value:"success","custom-class":"custom-radio"},{default:V((()=>[Y("成功按钮")])),_:1}),z(f,{value:"warning","custom-class":"custom-radio"},{default:V((()=>[Y("警告按钮")])),_:1}),z(f,{value:"error","custom-class":"custom-radio"},{default:V((()=>[Y("危险按钮")])),_:1}),z(f,{value:"info","custom-class":"custom-radio"},{default:V((()=>[Y("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),z(b,{title:"悬浮按钮位置"},{default:V((()=>[z(_,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=e=>l.value=e),inline:"",shape:"dot"},{default:V((()=>[z(f,{value:"left-top","custom-class":"custom-radio"},{default:V((()=>[Y("左上")])),_:1}),z(f,{value:"right-top","custom-class":"custom-radio"},{default:V((()=>[Y("右上")])),_:1}),z(f,{value:"left-bottom","custom-class":"custom-radio"},{default:V((()=>[Y("左下")])),_:1}),z(f,{value:"right-bottom","custom-class":"custom-radio"},{default:V((()=>[Y("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),z(b,{title:"菜单弹出方向"},{default:V((()=>[z(_,{modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),inline:"",shape:"dot"},{default:V((()=>[z(f,{value:"top","custom-class":"custom-radio"},{default:V((()=>[Y("向上")])),_:1}),z(f,{value:"bottom","custom-class":"custom-radio"},{default:V((()=>[Y("向下")])),_:1}),z(f,{value:"right","custom-class":"custom-radio"},{default:V((()=>[Y("向右")])),_:1}),z(f,{value:"left","custom-class":"custom-radio"},{default:V((()=>[Y("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),z(b,{title:"禁用"},{default:V((()=>[z(w,{onClick:n[4]||(n[4]=I((()=>{}),["stop"]))},{default:V((()=>[z(h,{modelValue:i.value,"onUpdate:modelValue":n[3]||(n[3]=e=>i.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),z(b,{title:"可拖动"},{default:V((()=>[z(w,{onClick:n[6]||(n[6]=I((()=>{}),["stop"]))},{default:V((()=>[z(h,{modelValue:d.value,"onUpdate:modelValue":n[5]||(n[5]=e=>d.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),z(b,{title:"切换展示"},{default:V((()=>[z(w,{onClick:n[8]||(n[8]=I((()=>{}),["stop"]))},{default:V((()=>[z(g,{type:"primary",onClick:n[7]||(n[7]=e=>t.value=!t.value),round:""},{default:V((()=>[Y("切换")])),_:1})])),_:1})])),_:1}),z(C,{active:t.value,"onUpdate:active":n[13]||(n[13]=e=>t.value=e),disabled:i.value,type:o.value,position:l.value,direction:s.value,draggable:d.value},{default:V((()=>[z(g,{onClick:n[9]||(n[9]=e=>U(a)("一键三连")),disabled:i.value,"custom-class":"custom-button",type:"primary",round:""},{default:V((()=>[z(x,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),z(g,{onClick:n[10]||(n[10]=e=>U(a)("我要收藏")),disabled:i.value,"custom-class":"custom-button",type:"success",round:""},{default:V((()=>[z(x,{name:"star",size:"22px"})])),_:1},8,["disabled"]),z(g,{onClick:n[11]||(n[11]=e=>U(a)("我要投币")),disabled:i.value,"custom-class":"custom-button",type:"error",round:""},{default:V((()=>[z(x,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),z(g,{onClick:n[12]||(n[12]=e=>U(a)("我要点赞")),disabled:i.value,"custom-class":"custom-button",type:"warning",round:""},{default:V((()=>[z(x,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"])])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-1e676114"]]);export{E as default};
