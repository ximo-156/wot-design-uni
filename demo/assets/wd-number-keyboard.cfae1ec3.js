import{d as e,r as t,v as a,h as l,j as s,o,c as d,w as r,a as n,n as u,u as i,p as c,e as y,F as m,b as p,t as x,i as k,q as b,x as w,z as f,f as h,g as _}from"./index-3f88d4b2.js";import{m as g,z as v,h as K,t as T,c as S,b as z,g as I,i as V,r as C}from"./page-wraper.84820f31.js";import{u as A}from"./useTouch.1cda033e.js";const O=z(e({name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{type:g(""),text:v(""),wider:K(!1),large:K(!1),loading:K(!1)},emits:["press"],setup(e,{emit:b}){const w=e,f=A(),h=t(!1),_=a((()=>`wd-key ${w.large?"wd-key--large":""} ${"delete"===w.type?"wd-key--delete":""} ${"close"===w.type?"wd-key--close":""}`));function g(e){f.touchStart(e),h.value=!0}function v(e){f.touchMove(e),f.direction.value&&(h.value=!1)}function K(){h.value&&(h.value=!1,b("press",w.text,w.type))}return(e,t)=>{const a=l(s("wd-loading"),T),b=l(s("wd-icon"),S),f=k;return o(),d(f,{class:u("wd-key-wrapper "+(e.wider?"wd-key-wrapper--wider":"")),onTouchstart:g,onTouchmove:v,onTouchend:K},{default:r((()=>[n(f,{class:u(i(_))},{default:r((()=>[w.loading?(o(),d(a,{key:0,"custom-class":"wd-key--loading-icon"})):c("",!0),"delete"===e.type?(o(),y(m,{key:1},[e.text?(o(),y(m,{key:0},[p(x(e.text),1)],64)):(o(),d(b,{key:1,name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(o(),y(m,{key:2},[e.text?(o(),y(m,{key:0},[p(x(e.text),1)],64)):(o(),d(b,{key:1,name:"keyboard-collapse",size:"22px"}))],64)):(o(),y(m,{key:3},[p(x(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-429e277c"]]),$=z(e({name:"wd-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...I,visible:K(!1),modelValue:g(""),title:String,mode:g("default"),zIndex:V(100),maxlength:V(1/0),showDeleteKey:K(!0),randomKeyOrder:K(!1),closeText:String,deleteText:String,closeButtonLoading:K(!1),modal:K(!1),hideOnClickOutside:K(!0),lockScroll:K(!0),safeAreaInsetBottom:K(!0),extraKey:[String,Array]},emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:g}){const v=e,K=t(v.visible);b((()=>v.visible),(e=>{K.value=e}));const T=a((()=>"custom"===v.mode?function(){const e=I(),t=Array.isArray(v.extraKey)?v.extraKey:[v.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...I(),{text:v.extraKey,type:"extra"},{text:0},{text:v.showDeleteKey?v.deleteText:"",type:v.showDeleteKey?"delete":""}])),S=a((()=>v.closeText&&"default"===v.mode)),z=a((()=>v.title||S.value));function I(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return v.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const V=()=>{g("close"),g("update:visible",!1)},A=(e,t)=>{if(""===e&&"extra"===t)return V();const a=v.modelValue;"delete"===t?(g("delete"),g("update:modelValue",a.slice(0,a.length-1))):"close"===t?V():a.length<+v.maxlength&&(g("input",e),g("update:modelValue",a+e))};return(e,t)=>{const a=_,b=k,g=l(s("wd-popup"),C);return o(),d(g,{modelValue:K.value,"onUpdate:modelValue":t[0]||(t[0]=e=>K.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:V},{default:r((()=>[n(b,{class:u(`wd-number-keyboard ${e.customClass}`),style:w(e.customStyle)},{default:r((()=>[i(z)?(o(),d(b,{key:0,class:"wd-number-keyboard__header"},{default:r((()=>[f(e.$slots,"title",{},(()=>[n(a,{class:"wd-number-keyboard__title"},{default:r((()=>[p(x(e.title),1)])),_:1})]),!0),i(S)?(o(),d(b,{key:0,class:"wd-number-keyboard__close","hover-class":"wd-number-keyboard__close--hover",onClick:V},{default:r((()=>[n(a,null,{default:r((()=>[p(x(e.closeText),1)])),_:1})])),_:1})):c("",!0)])),_:3})):c("",!0),n(b,{class:"wd-number-keyboard__body"},{default:r((()=>[n(b,{class:"wd-number-keyboard__keys"},{default:r((()=>[(o(!0),y(m,null,h(i(T),(e=>(o(),d(O,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:A},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(o(),d(b,{key:0,class:"wd-number-keyboard__sidebar"},{default:r((()=>[e.showDeleteKey?(o(),d(O,{key:0,large:"",text:e.deleteText,type:"delete",onPress:A},null,8,["text"])):c("",!0),n(O,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:A},null,8,["text","loading"])])),_:1})):c("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}}),[["__scopeId","data-v-3597b66d"]]);export{$ as _};
