import{g as e,h as s,m as l,i as a,p as o,o as t,c,b as u,R as n,w as r}from"./page-wraper.84820f31.js";import{d,v as i,q as p,Q as m,h,j as b,o as x,c as f,w as g,u as k,n as V,x as y,a as v,p as $,z as S,i as _,y as C}from"./index-3f88d4b2.js";import{u as w}from"./useChildren.2d80d6cf.js";const z=Symbol("wd-checkbox-group"),q={...e,modelValue:{type:Array,default:()=>[]},cell:s(!1),shape:l("circle"),checkedColor:String,disabled:s(!1),min:a(0),max:a(0),inline:s(!1),size:String},G=u(d({name:"wd-checkbox",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...e,customLabelClass:l(""),customShapeClass:l(""),modelValue:{type:[String,Number,Boolean],required:!0,default:!1},shape:l("circle"),checkedColor:String,disabled:{type:[Boolean,null],default:null},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},size:String,maxWidth:String},emits:["change","update:modelValue"],setup(e,{expose:s,emit:l}){const a=e;s({toggle:W});const{parent:u,index:n}=o(z),r=i((()=>u?u.props.modelValue.indexOf(a.modelValue)>-1:a.modelValue===a.trueValue)),d=i((()=>0===n.value)),w=i((()=>{const e=t(u)?u.children:[];return n.value===e.length-1})),{proxy:q}=C();p((()=>a.modelValue),(()=>{u&&u&&u.children&&u.children.forEach((e=>{e.$.uid!==q.$.uid&&e.modelValue===a.modelValue&&console.error(`The checkbox's bound value: ${a.modelValue} has been used`)}))})),p((()=>a.shape),(e=>{const s=["circle","square","button"];-1===s.indexOf(e)&&console.error(`shape must be one of ${s.toString()}`)}));const G=i((()=>!a.shape&&u&&u.props.shape?u.props.shape:a.shape)),j=i((()=>!a.checkedColor&&u&&u.props.checkedColor?u.props.checkedColor:a.checkedColor)),B=i((()=>{let e=a.disabled;return u&&(u.props.max&&u.props.modelValue.length>=u.props.max&&!r.value||u.props.min&&u.props.modelValue.length<=u.props.min&&r.value||!0===a.disabled||u.props.disabled&&null===a.disabled)&&(e=!0),e})),I=i((()=>!(!u||!u.props.inline)&&u.props.inline)),O=i((()=>!(!u||!u.props.cell)&&u.props.cell)),N=i((()=>!a.size&&u&&u.props.size?u.props.size:a.size));function W(){if(!B.value)if(u)l("change",{value:!r.value}),u.changeSelectState(a.modelValue);else{const e=a.modelValue===a.trueValue?a.falseValue:a.trueValue;l("update:modelValue",e),l("change",{value:e})}}return m((()=>{null===a.modelValue&&console.error("checkbox's value must be set")})),(e,s)=>{const l=h(b("wd-icon"),c),a=_;return x(),f(a,{class:V(`wd-checkbox ${k(O)?"is-cell-box":""} ${"button"===k(G)?"is-button-box":""} ${k(r)?"is-checked":""} ${k(d)?"is-first-child":""} ${k(w)?"is-last-child":""} ${k(I)?"is-inline":""} ${"button"===k(G)?"is-button":""} ${k(B)?"is-disabled":""} ${k(N)?"is-"+k(N):""} ${e.customClass}`),style:y(e.customStyle),onClick:W},{default:g((()=>["button"!==k(G)?(x(),f(a,{key:0,class:V(`wd-checkbox__shape ${"square"===k(G)?"is-square":""} ${e.customShapeClass}`),style:y(k(r)&&!k(B)&&k(j)?"color :"+k(j):"")},{default:g((()=>[v(l,{"custom-class":"wd-checkbox__check",name:"check-bold",size:"14px"})])),_:1},8,["class","style"])):$("",!0),v(a,{class:V(`wd-checkbox__label ${e.customLabelClass}`),style:y(k(r)&&"button"===k(G)&&!k(B)&&k(j)?"color:"+k(j):"")},{default:g((()=>["button"===k(G)&&k(r)?(x(),f(l,{key:0,"custom-class":"wd-checkbox__btn-check",name:"check-bold",size:"14px"})):$("",!0),v(a,{class:"wd-checkbox__txt",style:y(e.maxWidth?"max-width:"+e.maxWidth:"")},{default:g((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-1ba3f6e4"]]),j=u(d({name:"wd-checkbox-group",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:q,emits:["change","update:modelValue"],setup(e,{emit:s}){const l=e,{linkChildren:a}=w(z);return a({props:l,changeSelectState:function(e){const a=n(l.modelValue),o=a.indexOf(e);o>-1?a.splice(o,1):a.push(e);s("update:modelValue",a),s("change",{value:a})}}),p((()=>l.modelValue),(e=>{new Set(e).size!==e.length&&console.error("checkboxGroup's bound value includes same value"),e.length<l.min&&console.error("checkboxGroup's bound value's length can't be less than min"),0!==l.max&&e.length>l.max&&console.error("checkboxGroup's bound value's length can't be large than max")}),{deep:!0,immediate:!0}),p((()=>l.shape),(e=>{const s=["circle","square","button"];-1===s.indexOf(e)&&console.error(`shape must be one of ${s.toString()}`)}),{deep:!0,immediate:!0}),p((()=>l.min),(e=>{r(e,"min")}),{deep:!0,immediate:!0}),p((()=>l.max),(e=>{r(e,"max")}),{deep:!0,immediate:!0}),(e,s)=>{const l=_;return x(),f(l,{class:V(`wd-checkbox-group ${"button"===e.shape&&e.cell?"is-button":""} ${e.customClass}`),style:y(e.customStyle)},{default:g((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-00f36f16"]]);export{G as _,j as a};
