import{d as t,o as e,e as a,c as s,w as i,a as n,p as o,F as l,f as r,n as u,b as c,t as d,x as p,i as m,r as g,q as v,v as h,h as w,j as y,u as f,z as _,l as C,af as k,ag as x}from"./index-3f88d4b2.js";import{g as b,i as j,m as I,h as M,b as $,z as P,x as S,y as z,a2 as N,f as F,_ as V,a as q}from"./page-wraper.84820f31.js";import{_ as A}from"./demo-block.5375f9a7.js";import{_ as E}from"./wd-cell-group.19ea29fa.js";import{_ as T}from"./wd-button.18931a7d.js";import"./useChildren.2d80d6cf.js";const U=$(t({__name:"wd-swiper-nav",props:{...b,current:j(0),direction:I("horizontal"),minShowNum:j(2),indicatorPosition:I("bottom"),showControls:M(!1),total:j(0),type:I("dots")},emits:["change"],setup(t,{emit:g}){function v(t){g("change",{dir:t,source:"nav"})}return(t,g)=>{const h=m;return e(),a(l,null,[t.showControls?(e(),s(h,{key:0,class:"wd-swiper-nav__btn"},{default:i((()=>[n(h,{class:"wd-swiper-nav__btn--prev",onClick:g[0]||(g[0]=t=>v("prev"))}),n(h,{class:"wd-swiper-nav__btn--next",onClick:g[1]||(g[1]=t=>v("next"))})])),_:1})):o("",!0),t.total>=t.minShowNum?(e(),s(h,{key:1,style:p(t.customStyle),class:u(`wd-swiper-nav wd-swiper-nav--${t.direction} wd-swiper-nav--${t.type} wd-swiper-nav--${t.indicatorPosition} ${t.customClass}`)},{default:i((()=>["dots"===t.type||"dots-bar"===t.type?(e(!0),a(l,{key:0},r(t.total,((a,i)=>(e(),s(h,{key:i,class:u(`wd-swiper-nav__item--${t.type} ${t.current===i?"is-active":""} is-${t.direction}`)},null,8,["class"])))),128)):o("",!0),"fraction"===t.type?(e(),a(l,{key:1},[c(d(t.current+1)+"/"+d(t.total),1)],64)):o("",!0)])),_:1},8,["style","class"])):o("",!0)],64)}}}),[["__scopeId","data-v-3164f56d"]]),B=$(t({__name:"wd-swiper",props:{...b,autoplay:M(!0),current:j(0),direction:I("horizontal"),displayMultipleItems:j(1),duration:j(300),easingFunction:I("default"),height:P("192"),interval:j(5e3),list:{type:Array,default:()=>[]},loop:M(!0),nextMargin:P("0"),indicatorPosition:I("bottom"),previousMargin:P("0"),snapToEdge:M(!1),indicator:{type:[Boolean,Object],default:!0},imageMode:I("aspectFill"),customIndicatorClass:I(""),customImageClass:I(""),customPrevImageClass:I(""),customNextImageClass:I("")},emits:["click","change","animationfinish","update:current"],setup(t,{emit:c}){const d=t,b=g(0);v((()=>d.current),(t=>{var e;t<0?d.loop?M():I():t>=d.list.length?d.loop?I():M():(e=t,b.value=e),c("update:current",b.value)}),{immediate:!0});const j=h((()=>{const{list:t,direction:e,indicatorPosition:a,indicator:s}=d,i={current:b.value||0,total:t.length||0,direction:e||"horizontal",indicatorPosition:a||"bottom"};return S(s)&&(i.type=s.type||"dots",i.minShowNum=s.minShowNum||2,i.showControls=s.showControls||!1),i}));function I(){b.value=0}function M(){b.value=d.list.length-1}function $(t,e,a){let s="";return function(t,e,a){return(t-1+a.length)%a.length===e}(t,e,a)&&(s=d.customPrevImageClass),function(t,e,a){return(t+1+a.length)%a.length===e}(t,e,a)&&(s=d.customNextImageClass),s}function P(t){const{current:e,source:a}=t.detail;b.value=e,c("change",{current:e,source:a})}function N(t){const{current:e,source:a}=t.detail;c("animationfinish",{current:e,source:a})}function F(t){const{dir:e,source:a}=t;!function(t,e){const{list:a,loop:s}=d,i=a.length;let n="next"===t?b.value+1:b.value-1;n=s?"next"===t?(b.value+1)%i:(b.value-1+i)%i:n<0||n>=i?b.value:n;if(n===b.value)return;b.value=n,c("change",{current:n,source:e})}(e,a)}return(t,d)=>{const g=C,v=k,h=x,I=w(y("wd-swiper-nav"),U),M=m;return e(),s(M,{class:u(`wd-swiper ${t.customClass}`),style:p(t.customStyle)},{default:i((()=>[n(h,{class:"wd-swiper__track",autoplay:t.autoplay,current:b.value,interval:t.interval,duration:t.duration,circular:t.loop,vertical:"vertical"==t.direction,"easing-function":t.easingFunction,"previous-margin":t.previousMargin,"next-margin":t.nextMargin,"snap-to-edge":t.snapToEdge,"display-multiple-items":t.displayMultipleItems,style:p({height:f(z)(t.height)}),onChange:P,onAnimationfinish:N},{default:i((()=>[(e(!0),a(l,null,r(t.list,((a,o)=>(e(),s(v,{key:o,class:"wd-swiper__item",onClick:t=>function(t){c("click",{index:t})}(o)},{default:i((()=>[n(g,{src:f(S)(a)?a.value:a,class:u(`wd-swiper__image ${t.customImageClass} ${$(b.value,o,t.list)}`),style:p({height:f(z)(t.height)}),mode:t.imageMode},null,8,["src","class","style","mode"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["autoplay","current","interval","duration","circular","vertical","easing-function","previous-margin","next-margin","snap-to-edge","display-multiple-items","style"]),t.indicator?(e(),a(l,{key:0},[_(t.$slots,"indicator",{current:b.value,total:t.list.length},void 0,!0),t.$slots.indicator?o("",!0):(e(),s(I,{key:0,"custom-class":t.customIndicatorClass,type:f(j).type,current:f(j).current,total:f(j).total,direction:f(j).direction,"indicator-position":f(j).indicatorPosition,"min-show-num":f(j).minShowNum,"show-controls":f(j).showControls,onChange:F},null,8,["custom-class","type","current","total","direction","indicator-position","min-show-num","show-controls"]))],64)):o("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-207e065e"]]),O=$(t({__name:"Index",setup(t){const a=g(["https://unpkg.com/wot-design-uni-assets/redpanda.jpg","https://unpkg.com/wot-design-uni-assets/capybara.jpg","https://unpkg.com/wot-design-uni-assets/panda.jpg","https://img.yzcdn.cn/vant/cat.jpeg","https://unpkg.com/wot-design-uni-assets/meng.jpg"]),o=g(0),l=g(!1);function r(t){console.log(t)}function u(t){console.log(t)}return(t,p)=>{const g=w(y("wd-swiper"),B),v=w(y("demo-block"),A),h=m,f=w(y("wd-gap"),N),_=w(y("wd-switch"),F),C=w(y("wd-cell"),V),k=w(y("wd-cell-group"),E),x=w(y("wd-button"),T),b=w(y("page-wraper"),q);return e(),s(b,null,{default:i((()=>[n(v,{title:"点状指示器"},{default:i((()=>[n(g,{list:a.value,autoplay:"",current:0,indicator:{type:"dots"},onClick:r,onChange:u},null,8,["list"])])),_:1}),n(v,{title:"点条状指示器"},{default:i((()=>[n(g,{list:a.value,autoplay:"",current:1,indicator:{type:"dots-bar"},onClick:r,onChange:u},null,8,["list"])])),_:1}),n(v,{title:"数字指示器"},{default:i((()=>[n(g,{list:a.value,autoplay:"",current:2,indicator:{type:"fraction"},"indicator-position":"bottom-right",onClick:r,onChange:u},null,8,["list"])])),_:1}),n(v,{title:"手动切换"},{default:i((()=>[n(g,{list:a.value,autoplay:!1,current:3,indicator:{showControls:!0},loop:!1,onClick:r,onChange:u},null,8,["list"])])),_:1}),n(v,{title:"卡片样式"},{default:i((()=>[n(h,{class:"card-swiper"},{default:i((()=>[n(g,{autoplay:"",current:4,"custom-indicator-class":"custom-indicator-class","custom-image-class":"custom-image","custom-next-image-class":"custom-image-prev","custom-prev-image-class":"custom-image-prev",indicator:{type:"dots"},list:a.value,previousMargin:"24px",nextMargin:"24px"},null,8,["list"])])),_:1})])),_:1}),n(v,{title:"同时展示2个滑块"},{default:i((()=>[n(h,{class:"card-swiper"},{default:i((()=>[n(g,{autoplay:"",current:4,"display-multiple-items":2,"custom-indicator-class":"custom-indicator-class","custom-image-class":"custom-image","custom-next-image-class":"custom-image-prev","custom-prev-image-class":"custom-image-prev",indicator:{type:"dots"},list:a.value,previousMargin:"24px",nextMargin:"24px"},null,8,["list"])])),_:1})])),_:1}),n(v,{title:"垂直方向"},{default:i((()=>[n(g,{list:a.value,direction:"vertical","indicator-position":"right",autoplay:"",current:1,indicator:{type:"dots-bar"},onClick:r,onChange:u},null,8,["list"])])),_:1}),n(v,{title:"自定义指示器"},{default:i((()=>[n(g,{list:a.value,direction:"vertical","indicator-position":"right",autoplay:"",current:1,onClick:r,onChange:u},{indicator:i((({current:t,total:e})=>[n(h,{class:"custom-indicator",style:{position:"absolute",bottom:"24rpx",right:"24rpx"}},{default:i((()=>[c(d(t+1)+"/"+d(e),1)])),_:2},1024)])),_:1},8,["list"])])),_:1}),n(v,{title:"属性控制切换"},{default:i((()=>[n(g,{loop:l.value,autoplay:!1,list:a.value,current:o.value,"onUpdate:current":p[0]||(p[0]=t=>o.value=t)},null,8,["loop","list","current"]),n(f),n(k,null,{default:i((()=>[n(C,{title:"loop"},{default:i((()=>[n(_,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=t=>l.value=t),size:"24px"},null,8,["modelValue"])])),_:1}),n(C,{title:"current",value:o.value.toString()},null,8,["value"])])),_:1}),n(h,{style:{display:"flex","justify-content":"space-between"}},{default:i((()=>[n(x,{onClick:p[2]||(p[2]=t=>o.value--)},{default:i((()=>[c("prev")])),_:1}),n(x,{type:"success",onClick:p[3]||(p[3]=t=>o.value++)},{default:i((()=>[c("next")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-d7990a54"]]);export{O as default};
